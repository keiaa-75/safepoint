<!--
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at https://www.mozilla.org/MPL/2.0/.
-->

<div th:fragment="nav(navItems)" class="bottom-nav" xmlns:th="http://www.thymeleaf.org">
    <a th:each="item : ${navItems}" 
       th:href="${item.route}" 
       th:classappend="${item.route == #httpServletRequest.requestURI} ? 'active' : ''">
        <i th:class="${item.icon}"></i>
        <span th:text="${item.name}"></span>
    </a>
</div>

<script th:fragment="nav-script">
document.addEventListener('DOMContentLoaded', () => {
    const navLinks = document.querySelectorAll('.bottom-nav a');
    const currentPath = window.location.pathname;
    
    navLinks.forEach(link => {
        const linkPath = link.getAttribute('href');
        if (linkPath === currentPath) {
            link.classList.add('active');
        }
    });
});
</script>
